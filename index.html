<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HAIRGATOR - Professional Hair Style Menu</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HAIRGATOR">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">
    
    <!-- ÏïÑÏù¥ÏΩò -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    
    <!-- Íµ¨Í∏Ä Ìè∞Ìä∏ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>

    <!-- Í∏∞Ï°¥ CSS ÌååÏùºÎì§ Í∑∏ÎåÄÎ°ú Ïú†ÏßÄ -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/theme-extension.css">
</head>
<body>
    <!-- Í∏∞Ï°¥ HTML Íµ¨Ï°∞ Í∑∏ÎåÄÎ°ú Ïú†ÏßÄ -->
    
    <!-- Î°úÎî© ÌôîÎ©¥ -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">H</div>
            <div class="loading-text">HAIRGATOR</div>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ -->
    <div id="loginScreen" class="screen login-screen active">
        <div class="login-container">
            <div class="login-header">
                <h1>HAIRGATOR</h1>
                <p>Professional Hair Style Menu</p>
            </div>
            
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <input type="text" id="designerName" placeholder="ÎîîÏûêÏù¥ÎÑà Ïù¥Î¶Ñ" required>
                </div>
                <div class="form-group">
                    <input type="tel" id="phoneNumber" placeholder="010-1234-5678" maxlength="13" required>
                </div>
                <div class="form-group">
                    <input type="password" id="password" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ 4ÏûêÎ¶¨" maxlength="4" required>
                </div>
                <button type="submit" class="login-btn">Î°úÍ∑∏Ïù∏</button>
            </form>
            
            <div class="login-footer">
                <p>Í≥ÑÏ†ïÏù¥ ÏóÜÏúºÏã†Í∞ÄÏöî? Í¥ÄÎ¶¨ÏûêÏóêÍ≤å Í≥ÑÏ†ïÏùÑ ÏöîÏ≤≠ÌïòÏÑ∏Ïöî.</p>
            </div>
        </div>
    </div>

    <!-- ÏÑ±Î≥Ñ ÏÑ†ÌÉù ÌôîÎ©¥ -->
    <div class="gender-selection" id="genderSelection">
        <div class="gender-header">
            <h2>ÏÑ±Î≥ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</h2>
            <p id="designerNameDisplay" class="designer-info">Designer</p>
            <div class="token-display" style="display: none;">0 ÌÜ†ÌÅ∞</div>
        </div>
        <div class="gender-buttons">
            <button class="gender-btn male" onclick="selectGender('male')">
                <div class="gender-icon">‚ôÇ</div>
                <div class="gender-label">ÎÇ®ÏÑ±</div>
            </button>
            <button class="gender-btn female" onclick="selectGender('female')">
                <div class="gender-icon">‚ôÄ</div>
                <div class="gender-label">Ïó¨ÏÑ±</div>
            </button>
        </div>
    </div>

    <!-- Î©îÏù∏ Î©îÎâ¥ (Í∏∞Ï°¥ Íµ¨Ï°∞ Ïú†ÏßÄ) -->
    <div class="main-menu" id="mainMenu">
        <!-- Ìó§Îçî -->
        <div class="header" id="header">
            <button class="back-btn" id="backBtn" onclick="handleBack()">‚Üê</button>
            <div class="logo">HAIRGATOR</div>
            <div class="user-info">
                <span id="designerNameDisplay2">Designer</span>
                <div class="token-display" style="display: none;">0 ÌÜ†ÌÅ∞</div>
            </div>
            
            <!-- Í∞úÏÑ†: ÌÖåÎßà Î≤ÑÌäºÍ≥º Î©îÎâ¥ Î≤ÑÌäº Ï∂îÍ∞Ä -->
            <div class="header-actions">
                <button class="theme-btn" id="themeToggle" onclick="toggleTheme()">
                    <span class="theme-icon">üåô</span>
                </button>
                <button class="menu-btn" id="menuBtn" onclick="openSidebar()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>

        <!-- Î©îÎâ¥ Ïª®ÌÖåÏù¥ÎÑà -->
        <div id="menuContainer" class="menu-container">
            <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÌÉ≠ -->
            <div id="categoryTabs" class="category-tabs">
                <!-- ÎèôÏ†Å ÏÉùÏÑ± -->
            </div>

            <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ§Î™Ö -->
            <div id="categoryDescription" class="category-description">
                <!-- ÎèôÏ†Å ÏÉùÏÑ± -->
            </div>

            <!-- ÏÑúÎ∏åÏπ¥ÌÖåÍ≥†Î¶¨ ÌÉ≠ -->
            <div id="subcategoryTabs" class="subcategory-tabs">
                <!-- ÎèôÏ†Å ÏÉùÏÑ± -->
            </div>

            <!-- Ïä§ÌÉÄÏùº Í∑∏Î¶¨Îìú -->
            <div id="menuGrid" class="menu-grid">
                <!-- ÎèôÏ†Å ÏÉùÏÑ± -->
            </div>
        </div>
    </div>

    <!-- Í∞úÏÑ†: ÏÇ¨Ïù¥Îìú Î©îÎâ¥ Ï∂îÍ∞Ä -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Î©îÎâ¥</h3>
            <button class="sidebar-close" id="sidebarClose" onclick="closeSidebar()">√ó</button>
        </div>
        
        <div class="sidebar-content">
            <div class="user-info">
                <h4 id="designerNameDisplay3">ÎîîÏûêÏù¥ÎÑà</h4>
                <p>ÌÜ†ÌÅ∞: <span class="token-display">0</span></p>
            </div>
            
            <!-- Í∞úÏÑ†: ÌÖåÎßà ÏÑ†ÌÉùÍ∏∞ Ï∂îÍ∞Ä -->
            <div class="theme-section">
                <h5>ÌÖåÎßà ÏÑ†ÌÉù</h5>
                <div class="theme-options">
                    <button class="theme-option active" data-theme="dark" onclick="toggleTheme()">
                        <span class="theme-preview dark"></span>
                        <span>Îã§ÌÅ¨</span>
                    </button>
                    <button class="theme-option" data-theme="light" onclick="toggleTheme()">
                        <span class="theme-preview light"></span>
                        <span>ÎùºÏù¥Ìä∏</span>
                    </button>
                    <button class="theme-option" data-theme="blue" onclick="toggleTheme()">
                        <span class="theme-preview blue"></span>
                        <span>Î∏îÎ£®</span>
                    </button>
                </div>
            </div>
            
            <div class="menu-actions">
                <button class="menu-item" onclick="showProfile()">
                    <span class="menu-icon">üë§</span>
                    <span>ÌîÑÎ°úÌïÑ</span>
                </button>
                <button class="menu-item" onclick="showSettings()">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span>ÏÑ§Ï†ï</span>
                </button>
            </div>
            
            <div class="sidebar-footer">
                <button class="logout-btn" id="logoutBtn" onclick="handleLogout()">Î°úÍ∑∏ÏïÑÏõÉ</button>
            </div>
        </div>
    </div>

    <!-- Ïä§ÌÉÄÏùº Î™®Îã¨ (Í∏∞Ï°¥ Íµ¨Ï°∞ Ïú†ÏßÄ) -->
    <div class="style-modal" id="styleModal">
        <div class="style-modal-content">
            <button class="style-modal-close" id="modalClose">√ó</button>
            <img class="style-modal-image" id="modalImage" alt="Style Image">
            <div class="style-modal-info">
                <div class="style-modal-code" id="modalCode">CODE</div>
                <div class="style-modal-name" id="modalName">Style Name</div>
                
                <!-- Í∞úÏÑ†: Ïï°ÏÖò Î≤ÑÌäº Ï∂îÍ∞Ä -->
                <div class="style-actions">
                    <button class="action-btn register-btn" id="btnRegister">
                        <span class="action-icon">üë§</span>
                        <span>Í≥†Í∞ù Îì±Î°ù</span>
                    </button>
                    <button class="action-btn favorite-btn" id="btnLike">
                        <span class="action-icon">‚ô°</span>
                        <span>Ï¢ãÏïÑÏöî</span>
                    </button>
                    <button class="action-btn share-btn" onclick="shareStyle()">
                        <span class="action-icon">üì§</span>
                        <span>Í≥µÏú†ÌïòÍ∏∞</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÌÜ†Ïä§Ìä∏ Î©îÏãúÏßÄ -->
    <div id="toast" class="toast"></div>

    <!-- Î°úÎî© Ïò§Î≤ÑÎ†àÏù¥ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- ÌÖåÎßà ÌÜ†Í∏Ä Î≤ÑÌäº (ÌïòÎã®) -->
    <button class="theme-toggle-bottom" id="themeToggleBottom">
        <span>üåô</span>
        <span>Îã§ÌÅ¨Î™®Îìú</span>
        <span id="themeStatus">ON</span>
    </button>

    <!-- üéØ ÏàòÏ†ïÎêú JavaScript Î°úÎî© (Î¨∏Ï†ú Ìï¥Í≤∞Ïö©) -->
    <script src="js/firebase-config.js"></script>
    <script src="js/permission-system.js"></script>
    <!-- <script src="js/token-system.js"></script> --> <!-- 404 ÏóêÎü¨ Ï†úÍ±∞ -->
    <!-- <script src="js/auth.js"></script> --> <!-- main.jsÏôÄ Ï§ëÎ≥µ Ï†úÍ±∞ -->
    <!-- <script src="js/menu.js"></script> --> <!-- main.jsÏôÄ Ï§ëÎ≥µ Ï†úÍ±∞ -->
    <!-- <script src="js/theme-extension.js"></script> --> <!-- main.jsÏôÄ Ï§ëÎ≥µ Ï†úÍ±∞ -->
    <script src="js/main.js"></script>

    <!-- PWA Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>

</body>
</html>

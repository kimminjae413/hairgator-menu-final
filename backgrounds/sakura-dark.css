/* ========== 검정 배경에 많은 벚꽃이 흩날리는 시스템 ========== */

/* 메인 벚꽃 레이어 - 더 많은 꽃잎 */
body.sakura-background::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        /* 첫 번째 줄 - 핑크 꽃잎들 */
        radial-gradient(circle 4px at 5% 10%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 3px at 15% 25%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 5px at 25% 40%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 3px at 35% 55%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 4px at 45% 70%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 6px at 55% 85%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 3px at 65% 15%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 5px at 75% 30%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 4px at 85% 45%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 3px at 95% 60%, #ffb6c1 50%, transparent 50%),
        
        /* 두 번째 줄 - 흰 꽃잎들 */
        radial-gradient(circle 3px at 10% 80%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 4px at 20% 5%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 5px at 30% 20%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 3px at 40% 35%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 4px at 50% 50%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 6px at 60% 65%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 3px at 70% 80%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 5px at 80% 95%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 4px at 90% 25%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 3px at 100% 40%, #f8f8f8 50%, transparent 50%);
    
    background-size: 150px 150px, 130px 130px, 170px 170px, 120px 120px, 180px 180px, 
                     140px 140px, 160px 160px, 110px 110px, 190px 190px, 125px 125px,
                     135px 135px, 155px 155px, 115px 115px, 175px 175px, 145px 145px,
                     165px 165px, 105px 105px, 185px 185px, 135px 135px, 125px 125px;
    animation: sakuraFlow1 12s linear infinite;
    pointer-events: none;
    z-index: 1;
    opacity: 0.9;
}

/* 보조 벚꽃 레이어 - 더 많은 꽃잎 */
body.sakura-background::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        /* 세 번째 줄 - 더 많은 핑크 꽃잎들 */
        radial-gradient(circle 3px at 7% 12%, rgba(255, 105, 180, 0.8) 50%, transparent 50%),
        radial-gradient(circle 4px at 17% 28%, rgba(255, 182, 193, 0.9) 50%, transparent 50%),
        radial-gradient(circle 2px at 27% 44%, rgba(255, 105, 180, 0.8) 50%, transparent 50%),
        radial-gradient(circle 5px at 37% 60%, rgba(255, 182, 193, 0.7) 50%, transparent 50%),
        radial-gradient(circle 3px at 47% 76%, rgba(255, 105, 180, 0.8) 50%, transparent 50%),
        radial-gradient(circle 4px at 57% 92%, rgba(255, 182, 193, 0.9) 50%, transparent 50%),
        radial-gradient(circle 6px at 67% 8%, rgba(255, 105, 180, 0.7) 50%, transparent 50%),
        radial-gradient(circle 3px at 77% 24%, rgba(255, 182, 193, 0.8) 50%, transparent 50%),
        radial-gradient(circle 5px at 87% 40%, rgba(255, 105, 180, 0.9) 50%, transparent 50%),
        radial-gradient(circle 4px at 97% 56%, rgba(255, 182, 193, 0.8) 50%, transparent 50%),
        
        /* 네 번째 줄 - 더 많은 흰 꽃잎들 */
        radial-gradient(circle 3px at 12% 18%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(circle 4px at 22% 34%, rgba(248, 248, 248, 0.8) 50%, transparent 50%),
        radial-gradient(circle 6px at 32% 50%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
        radial-gradient(circle 3px at 42% 66%, rgba(248, 248, 248, 0.8) 50%, transparent 50%),
        radial-gradient(circle 5px at 52% 82%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(circle 4px at 62% 98%, rgba(248, 248, 248, 0.8) 50%, transparent 50%),
        radial-gradient(circle 3px at 72% 14%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(circle 6px at 82% 30%, rgba(248, 248, 248, 0.7) 50%, transparent 50%),
        radial-gradient(circle 4px at 92% 46%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
        radial-gradient(circle 5px at 102% 62%, rgba(248, 248, 248, 0.9) 50%, transparent 50%);
    
    background-size: 140px 120px, 120px 140px, 160px 130px, 100px 160px, 150px 110px,
                     130px 150px, 170px 120px, 110px 170px, 145px 125px, 125px 145px,
                     135px 115px, 115px 135px, 155px 125px, 105px 155px, 165px 115px,
                     125px 165px, 175px 105px, 95px 175px, 185px 125px, 115px 185px;
    animation: sakuraFlow2 14s linear infinite;
    pointer-events: none;
    z-index: 2;
    opacity: 0.7;
}

/* 첫 번째 애니메이션 - 대각선 낙하 */
@keyframes sakuraFlow1 {
    0% {
        transform: translateY(-100px) translateX(-50px) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.9;
    }
    90% {
        opacity: 0.4;
    }
    100% {
        transform: translateY(calc(100vh + 100px)) translateX(100px) rotate(360deg);
        opacity: 0;
    }
}

/* 두 번째 애니메이션 - 지그재그 낙하 */
@keyframes sakuraFlow2 {
    0% {
        transform: translateY(-80px) translateX(30px) rotate(0deg);
        opacity: 0;
    }
    15% {
        opacity: 0.7;
    }
    30% {
        transform: translateY(30vh) translateX(-20px) rotate(120deg);
    }
    60% {
        transform: translateY(60vh) translateX(40px) rotate(240deg);
    }
    85% {
        opacity: 0.3;
    }
    100% {
        transform: translateY(calc(100vh + 80px)) translateX(-30px) rotate(360deg);
        opacity: 0;
    }
}

/* UI 요소들이 벚꽃 위에 오도록 z-index 설정 */
body.sakura-background .header,
body.sakura-background .category-tabs-wrapper,
body.sakura-background .subcategory-wrapper,
body.sakura-background .menu-grid,
body.sakura-background .sidebar,
body.sakura-background .style-modal {
    position: relative;
    z-index: 10;
}

/* 벚꽃이 테마 토글 버튼 뒤로 가도록 */
body.sakura-background .theme-toggle-bottom {
    z-index: 20;
}

/* 모바일 최적화 - 꽃잎 밀도 조절 */
@media (max-width: 767px) {
    body.sakura-background::before {
        background-size: 120px 120px, 100px 100px, 140px 140px, 90px 90px, 150px 150px, 
                         110px 110px, 130px 130px, 80px 80px, 160px 160px, 95px 95px,
                         105px 105px, 125px 125px, 85px 85px, 145px 145px, 115px 115px,
                         135px 135px, 75px 75px, 155px 155px, 105px 105px, 95px 95px;
        animation-duration: 10s;
    }
    
    body.sakura-background::after {
        background-size: 110px 90px, 90px 110px, 130px 100px, 70px 130px, 120px 80px,
                         100px 120px, 140px 90px, 80px 140px, 115px 95px, 95px 115px,
                         105px 85px, 85px 105px, 125px 95px, 75px 125px, 135px 85px,
                         95px 135px, 145px 75px, 65px 145px, 155px 95px, 85px 155px;
        animation-duration: 12s;
    }
}

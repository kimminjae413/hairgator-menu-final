/* ========== 🌸 HAIRGATOR 벚꽃 배경 시스템 - 다크 모드 최종 버전 ========== */

/* 벚꽃 배경 활성화 시 적용 */
body.sakura-background {
    position: relative;
    overflow-x: hidden;
}

/* 배경 그라데이션 - 신비로운 밤하늘 */
body.sakura-background {
    background: linear-gradient(135deg, 
        #0c0c0c 0%,     /* 깊은 검정 */
        #1a1a2e 25%,    /* 어두운 남보라 */
        #16213e 50%,    /* 미드나잇 블루 */
        #0f3460 75%,    /* 딥 블루 */
        #0e4b99 100%    /* 로얄 블루 */
    );
}

/* 첫 번째 벚꽃 레이어 - 큰 꽃잎들 (앞쪽) */
body.sakura-background::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    opacity: 0.9;
    background: 
        /* 핑크 벚꽃 꽃잎들 */
        radial-gradient(circle 5px at 8% 15%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 4px at 18% 35%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 6px at 28% 55%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 3px at 38% 75%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 5px at 48% 25%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 7px at 58% 45%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 4px at 68% 65%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 6px at 78% 85%, #ffb6c1 50%, transparent 50%),
        radial-gradient(circle 3px at 88% 5%, #ff69b4 50%, transparent 50%),
        radial-gradient(circle 5px at 98% 30%, #ffb6c1 50%, transparent 50%),
        
        /* 흰색 벚꽃 꽃잎들 */
        radial-gradient(circle 4px at 12% 50%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 3px at 22% 70%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 5px at 32% 20%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 4px at 42% 40%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 6px at 52% 60%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 3px at 62% 80%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 5px at 72% 10%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 4px at 82% 35%, #f8f8f8 50%, transparent 50%),
        radial-gradient(circle 6px at 92% 55%, #ffffff 50%, transparent 50%),
        radial-gradient(circle 3px at 15% 90%, #f8f8f8 50%, transparent 50%);
    
    background-size: 200px 200px, 180px 180px, 220px 220px, 160px 160px, 240px 240px,
                     170px 170px, 190px 190px, 210px 210px, 150px 150px, 230px 230px,
                     185px 185px, 205px 205px, 175px 175px, 195px 195px, 215px 215px,
                     165px 165px, 225px 225px, 155px 155px, 235px 235px, 145px 145px;
    
    animation: sakuraFall1 15s linear infinite;
}

/* 두 번째 벚꽃 레이어 - 작은 꽃잎들 (뒤쪽) */
body.sakura-background::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
    opacity: 0.7;
    background: 
        /* 투명한 핑크 꽃잎들 */
        radial-gradient(circle 3px at 5% 20%, rgba(255, 105, 180, 0.8) 50%, transparent 50%),
        radial-gradient(circle 4px at 15% 40%, rgba(255, 182, 193, 0.9) 50%, transparent 50%),
        radial-gradient(circle 2px at 25% 60%, rgba(255, 105, 180, 0.7) 50%, transparent 50%),
        radial-gradient(circle 5px at 35% 80%, rgba(255, 182, 193, 0.8) 50%, transparent 50%),
        radial-gradient(circle 3px at 45% 10%, rgba(255, 105, 180, 0.9) 50%, transparent 50%),
        radial-gradient(circle 4px at 55% 30%, rgba(255, 182, 193, 0.7) 50%, transparent 50%),
        radial-gradient(circle 6px at 65% 50%, rgba(255, 105, 180, 0.8) 50%, transparent 50%),
        radial-gradient(circle 3px at 75% 70%, rgba(255, 182, 193, 0.9) 50%, transparent 50%),
        radial-gradient(circle 5px at 85% 90%, rgba(255, 105, 180, 0.7) 50%, transparent 50%),
        radial-gradient(circle 4px at 95% 15%, rgba(255, 182, 193, 0.8) 50%, transparent 50%),
        
        /* 투명한 흰색 꽃잎들 */
        radial-gradient(circle 3px at 10% 35%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(circle 4px at 20% 55%, rgba(248, 248, 248, 0.8) 50%, transparent 50%),
        radial-gradient(circle 6px at 30% 75%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
        radial-gradient(circle 3px at 40% 25%, rgba(248, 248, 248, 0.9) 50%, transparent 50%),
        radial-gradient(circle 5px at 50% 45%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
        radial-gradient(circle 4px at 60% 65%, rgba(248, 248, 248, 0.7) 50%, transparent 50%),
        radial-gradient(circle 3px at 70% 85%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(circle 6px at 80% 5%, rgba(248, 248, 248, 0.8) 50%, transparent 50%),
        radial-gradient(circle 4px at 90% 40%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
        radial-gradient(circle 5px at 25% 95%, rgba(248, 248, 248, 0.9) 50%, transparent 50%);
    
    background-size: 160px 140px, 140px 160px, 180px 150px, 120px 180px, 170px 130px,
                     150px 170px, 190px 140px, 130px 190px, 165px 155px, 155px 165px,
                     145px 135px, 135px 145px, 175px 145px, 125px 175px, 185px 135px,
                     135px 185px, 195px 125px, 115px 195px, 205px 145px, 135px 205px;
    
    animation: sakuraFall2 18s linear infinite;
}

/* 첫 번째 애니메이션 - 우아한 낙하 */
@keyframes sakuraFall1 {
    0% {
        transform: translateY(-120px) translateX(-30px) rotate(0deg);
        opacity: 0;
    }
    15% {
        opacity: 0.9;
    }
    85% {
        opacity: 0.5;
    }
    100% {
        transform: translateY(calc(100vh + 120px)) translateX(80px) rotate(360deg);
        opacity: 0;
    }
}

/* 두 번째 애니메이션 - 부드러운 흩날림 */
@keyframes sakuraFall2 {
    0% {
        transform: translateY(-100px) translateX(40px) rotate(0deg);
        opacity: 0;
    }
    20% {
        opacity: 0.7;
    }
    80% {
        opacity: 0.3;
    }
    100% {
        transform: translateY(calc(100vh + 100px)) translateX(-60px) rotate(360deg);
        opacity: 0;
    }
}

/* UI 요소들이 벚꽃 위에 표시되도록 z-index 설정 */
body.sakura-background .header,
body.sakura-background .main-content,
body.sakura-background .category-tabs-wrapper,
body.sakura-background .subcategory-wrapper,
body.sakura-background .menu-grid,
body.sakura-background .sidebar,
body.sakura-background .style-modal {
    position: relative;
    z-index: 10;
}

/* 헤더에 유리 효과 추가 */
body.sakura-background .header {
    background: rgba(0, 0, 0, 0.8) !important;
    backdrop-filter: blur(15px);
    border-bottom: 1px solid rgba(255, 20, 147, 0.3);
    box-shadow: 0 2px 20px rgba(255, 105, 180, 0.1);
}

/* 사이드바에 유리 효과 추가 */
body.sakura-background .sidebar {
    background: rgba(26, 26, 26, 0.9) !important;
    backdrop-filter: blur(20px);
    border-left: 1px solid rgba(255, 20, 147, 0.2);
}

/* 벚꽃이 테마 토글 버튼 뒤로 가도록 */
body.sakura-background .theme-toggle-bottom {
    z-index: 20;
}

/* 성별 선택 버튼에 벚꽃 효과 */
body.sakura-background .gender-btn {
    background: rgba(26, 26, 26, 0.8) !important;
    backdrop-filter: blur(10px);
    border-color: rgba(255, 20, 147, 0.4) !important;
}

body.sakura-background .gender-btn:hover {
    box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
    border-color: rgba(255, 20, 147, 0.8) !important;
}

/* 모바일 최적화 - 성능을 위해 꽃잎 수와 애니메이션 속도 조정 */
@media (max-width: 767px) {
    body.sakura-background::before {
        background-size: 140px 140px, 120px 120px, 160px 160px, 100px 100px, 180px 180px,
                         130px 130px, 150px 150px, 90px 90px, 170px 170px, 110px 110px,
                         125px 125px, 145px 145px, 95px 95px, 165px 165px, 115px 115px,
                         135px 135px, 155px 155px, 85px 85px, 175px 175px, 105px 105px;
        animation-duration: 12s;
        opacity: 0.7;
    }
    
    body.sakura-background::after {
        background-size: 120px 100px, 100px 120px, 140px 110px, 80px 140px, 130px 90px,
                         110px 130px, 150px 100px, 90px 150px, 125px 105px, 105px 125px,
                         115px 95px, 95px 115px, 135px 105px, 85px 135px, 145px 95px,
                         95px 145px, 155px 85px, 75px 155px, 165px 105px, 95px 165px;
        animation-duration: 15s;
        opacity: 0.5;
    }
    
    /* 모바일에서는 배경 그라데이션 단순화 */
    body.sakura-background {
        background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #0e4b99 100%);
    }
}

/* 태블릿 최적화 */
@media (min-width: 768px) and (max-width: 1024px) {
    body.sakura-background::before {
        animation-duration: 13s;
    }
    
    body.sakura-background::after {
        animation-duration: 16s;
    }
}

/* 고해상도 디스플레이 최적화 */
@media (min-resolution: 2dppx) {
    body.sakura-background::before,
    body.sakura-background::after {
        will-change: transform;
        transform: translateZ(0);
    }
}
